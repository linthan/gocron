(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[18],{"6TYz":function(e,t,a){"use strict";var l=a("TqRt"),n=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var r=l(a("kLXV"));a("giR+");var o=l(a("fyUT")),d=l(a("MVZn")),i=l(a("lwsE")),s=l(a("W8MJ")),u=l(a("a1gu")),f=l(a("Nsbk")),c=l(a("7W2i"));a("5NDa");var p=l(a("5rEg"));a("y8nQ");var m,h,b=l(a("Vl3Y")),g=n(a("q1tI")),v=b.default.Item,k=p.default.TextArea,y=(m=b.default.create(),m(h=function(e){function t(){return(0,i.default)(this,t),(0,u.default)(this,(0,f.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.form,a=e.setForm;a(t)}},{key:"render",value:function(){var e=this.props,t=e.formTitle,a=e.modalVisible,l=e.form,n=e.handleAdd,i=e.handleUpdate,s=e.handleModalVisible,u=function(){l.validateFields(function(e,t){if(!e){var a=(0,d.default)({},t),r=new FormData;Object.keys(a).forEach(function(e){r.append(e,a[e])}),l.resetFields(),0===t.id?n(r):i(r)}})};return g.default.createElement(r.default,{width:720,title:g.default.createElement("span",null,g.default.createElement("span",{style:{fontWeight:700,color:"rgba(0, 0, 0, 0.647058823529412)"}},t)),visible:a,onOk:u,onCancel:function(){return s()}},g.default.createElement(v,{style:{display:"none"},labelCol:{span:5},wrapperCol:{span:15},label:"id"},l.getFieldDecorator("id",{})(g.default.createElement(o.default,{placeholder:"\u8bf7\u8f93\u5165"}))),g.default.createElement(v,{labelCol:{span:5},wrapperCol:{span:15},label:"\u8282\u70b9\u540d\u79f0"},l.getFieldDecorator("alias",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8282\u70b9\u540d\u79f0..."}]})(g.default.createElement(p.default,{placeholder:"\u8bf7\u8f93\u5165\u8282\u70b9\u540d\u79f0"}))),g.default.createElement(v,{labelCol:{span:5},wrapperCol:{span:15},label:"\u4e3b\u673a\u540d"},l.getFieldDecorator("name",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4e3b\u673a\u540d..."}]})(g.default.createElement(p.default,{placeholder:"\u8bf7\u8f93\u5165\u4e3b\u673a\u540d"}))),g.default.createElement(v,{labelCol:{span:5},wrapperCol:{span:15},label:"\u7aef\u53e3"},l.getFieldDecorator("port",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7aef\u53e3..."}]})(g.default.createElement(o.default,{style:{width:"100%"},placeholder:"\u8bf7\u586b\u5199\u7aef\u53e3"}))),g.default.createElement(v,{labelCol:{span:5},wrapperCol:{span:15},label:"\u5907\u6ce8"},l.getFieldDecorator("remark",{})(g.default.createElement(k,{rows:4}))))}}]),t}(g.PureComponent))||h);t.default=y},EKM3:function(e,t,a){"use strict";var l=a("TqRt"),n=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(a("pVnL"));a("IzEo");var o=l(a("bx4M"));a("14J3");var d=l(a("BMrR"));a("jCWc");var i=l(a("kPKH"));a("giR+");var s=l(a("fyUT")),u=l(a("MVZn"));a("P2fV");var f=l(a("NJEC"));a("+L6B");var c=l(a("2/Rp")),p=l(a("lwsE")),m=l(a("W8MJ")),h=l(a("a1gu")),b=l(a("Nsbk")),g=l(a("7W2i"));a("OaEy");var v=l(a("2fM7"));a("5NDa");var k=l(a("5rEg"));a("y8nQ");var y,E,C,V=l(a("Vl3Y")),w=n(a("q1tI")),F=a("MuoO"),T=(l(a("wd/R")),l(a("usdK"))),M=l(a("BNNL")),R=l(a("zHco")),S=l(a("WajY")),L=(a("OsYT"),l(a("6TYz"))),D=V.default.Item,x=(k.default.TextArea,v.default.Option,function(e){return Object.keys(e).map(function(t){return e[t]}).join(",")}),N="\u65b0\u5efa",O="\u7f16\u8f91",I=(y=(0,F.connect)(function(e){var t=e.tasknode,a=e.loading;return{tasknode:t,loading:a.effects["tasknode/fetch"]}}),E=V.default.create(),y(C=E(C=function(e){function t(){var e,a;(0,p.default)(this,t);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return a=(0,h.default)(this,(e=(0,b.default)(t)).call.apply(e,[this].concat(n))),a.state={formTitle:N,modalVisible:!1,expandForm:!1,selectedRows:[],formValues:{},pagination:{},stepFormValues:{},currentTaskResult:{}},a.showTaskResult=function(e){a.setState({currentTaskResult:{result:e.result,command:e.command},modalVisible:!0})},a.columns=[{title:"\u8282\u70b9ID",dataIndex:"id"},{title:"\u8282\u70b9\u540d\u79f0",dataIndex:"alias"},{title:"\u4e3b\u673a\u540d",dataIndex:"name"},{title:"\u7aef\u53e3",dataIndex:"port"},{title:"\u67e5\u770b\u4efb\u52a1",render:function(e,t){return w.default.createElement(c.default,{onClick:function(){T.default.push("/task/manage?host_id=".concat(t.id))},style:{marginRight:6,color:"#fff",backgroundColor:"#409eff",borderColor:"#409eff"}},"\u67e5\u770b\u4efb\u52a1")}},{title:"\u5907\u6ce8",dataIndex:"remark"},{title:"\u64cd\u4f5c",render:function(e,t){return w.default.createElement(w.Fragment,null,w.default.createElement(c.default,{onClick:function(){a.update(t)},style:{marginRight:6,color:"#fff",backgroundColor:"#409eff",borderColor:"#409eff"}},"\u7f16\u8f91"),w.default.createElement(c.default,{onClick:function(){a.ping(t)},style:{marginRight:6,color:"#fff",backgroundColor:"#909399",borderColor:"#909399"}},"\u6d4b\u8bd5\u8fde\u63a5"),w.default.createElement(f.default,{placement:"topLeft",title:"\u786e\u5b9a\u5220\u9664\uff1f",onConfirm:function(){a.remove(t)},okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88"},w.default.createElement(c.default,{onClick:function(){},style:{marginRight:6,color:"#fff",backgroundColor:"#f78989",borderColor:"#f78989"}},"\u5220\u9664")))}}],a.getParam=function(){var e=a.state,t=e.formValues,l=e.pagination,n=void 0===l?{}:l,r=(0,u.default)({page:n.current||1,page_size:n.pageSize||20},t);return r},a.handleStandardTableChange=function(e,t,l){var n=a.props.dispatch,r=a.state.formValues,o=Object.keys(t).reduce(function(e,a){var l=(0,u.default)({},e);return l[a]=x(t[a]),l},{});a.setState({pagination:e});var d=(0,u.default)({page:e.current,page_size:e.pageSize},r,o);l.field&&(d.sorter="".concat(l.field,"_").concat(l.order)),n({type:"tasknode/fetch",payload:d})},a.handleFormReset=function(){var e=a.props,t=e.form,l=e.dispatch;t.resetFields(),a.setState({formValues:{}}),l({type:"tasknode/fetch",payload:a.getParam()})},a.add=function(){a.form.setFieldsValue({id:"",name:"",alias:"",port:5920,remark:""}),a.setState({formTitle:N}),a.handleModalVisible(!0)},a.update=function(e){a.form.setFieldsValue({id:e.id,name:e.name,alias:e.alias,port:e.port,remark:e.remark}),a.setState({formTitle:O}),a.handleModalVisible(!0)},a.remove=function(e){var t=a.props.dispatch;t({type:"tasknode/remove",payload:{id:e.id},callback:function(){t({type:"tasknode/fetch",payload:a.getParam()})}})},a.handleAdd=function(e){var t=a.props.dispatch;t({type:"tasknode/storeNode",payload:e,callback:function(){t({type:"tasknode/fetch",payload:a.getParam()})}}),a.handleModalVisible(!1)},a.ping=function(e){var t=a.props.dispatch;t({type:"tasknode/ping",payload:{id:e.id}})},a.handleUpdate=function(e){var t=a.props.dispatch;t({type:"tasknode/storeNode",payload:e,callback:function(){t({type:"tasknode/fetch",payload:a.getParam()})}}),a.handleModalVisible(!1)},a.handleSearch=function(e){e.preventDefault();var t=a.props,l=t.dispatch,n=t.form;n.validateFields(function(e,t){if(!e){var n=(0,u.default)({},t);a.setState({formValues:n}),l({type:"tasknode/fetch",payload:(0,u.default)({},n)})}})},a.setForm=function(e){a.form=e},a.handleModalVisible=function(e){a.setState({modalVisible:!!e})},a.renderForm=function(){var e=a.props.form,t=e.getFieldDecorator;return w.default.createElement(V.default,{onSubmit:a.handleSearch,layout:"inline"},w.default.createElement(d.default,{gutter:{md:8,lg:24,xl:48}},w.default.createElement(i.default,{md:4,sm:24},w.default.createElement(D,{label:"\u8282\u70b9ID"},t("id")(w.default.createElement(s.default,{min:1,style:{width:"100%"},placeholder:"\u8bf7\u8f93\u5165"})))),w.default.createElement(i.default,{md:4,sm:24},w.default.createElement(D,{label:"\u4e3b\u673a\u540d"},t("name")(w.default.createElement(k.default,{placeholder:"\u8bf7\u8f93\u5165"})))),w.default.createElement(i.default,{md:6,sm:24},w.default.createElement("span",{className:S.default.submitButtons},w.default.createElement(c.default,{type:"primary",htmlType:"submit"},"\u67e5\u8be2"),w.default.createElement(c.default,{style:{marginLeft:8},onClick:a.handleFormReset},"\u91cd\u7f6e")))))},a}return(0,g.default)(t,e),(0,m.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"tasknode/fetch",payload:this.getParam()})}},{key:"render",value:function(){var e=this,t=this.props,a=t.tasknode,l=void 0===a?{}:a,n=t.loading,d=(t.dispatch,l.data),i=void 0===d?{}:d,s=this.state,u=s.modalVisible,f=s.formTitle,p={handleAdd:this.handleAdd,handleUpdate:this.handleUpdate,setForm:this.setForm,handleModalVisible:this.handleModalVisible};return w.default.createElement(R.default,{title:"\u4efb\u52a1\u65e5\u5fd7"},w.default.createElement(o.default,{bordered:!1},w.default.createElement("div",{className:S.default.tableList},w.default.createElement("div",{className:S.default.tableListForm},this.renderForm()),w.default.createElement("div",{className:S.default.tableListOperator},w.default.createElement(c.default,{icon:"plus",type:"primary",onClick:function(){e.add()}},N)),w.default.createElement(M.default,{loading:n,data:i,columns:this.columns,onSelectRow:this.handleSelectRows,onChange:this.handleStandardTableChange}))),w.default.createElement(L.default,(0,r.default)({formTitle:f},p,{modalVisible:u})))}}]),t}(w.PureComponent))||C)||C),P=I;t.default=P},WajY:function(e,t,a){e.exports={tableList:"antd-pro\\github.com\\linthan\\gocron\\web\\react\\src\\pages\\-task\\-node-tableList",tableListOperator:"antd-pro\\github.com\\linthan\\gocron\\web\\react\\src\\pages\\-task\\-node-tableListOperator",tableListForm:"antd-pro\\github.com\\linthan\\gocron\\web\\react\\src\\pages\\-task\\-node-tableListForm",submitButtons:"antd-pro\\github.com\\linthan\\gocron\\web\\react\\src\\pages\\-task\\-node-submitButtons"}}}]);