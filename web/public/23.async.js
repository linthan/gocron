(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[23],{YzGc:function(e,t,a){"use strict";var l=a("TqRt"),r=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var n=l(a("bx4M"));a("+L6B");var u=l(a("2/Rp"));a("14J3");var d=l(a("BMrR"));a("jCWc");var o=l(a("kPKH")),f=l(a("MVZn")),m=l(a("lwsE")),c=l(a("W8MJ")),i=l(a("a1gu")),s=l(a("Nsbk")),p=l(a("7W2i"));a("5NDa");var h=l(a("5rEg"));a("y8nQ");var g,E,b,y=l(a("Vl3Y")),v=r(a("q1tI")),k=a("MuoO"),w=l(a("6N1Q")),F=l(a("mtJX")),M=(l(a("rS4k")),y.default.Item),x=h.default.TextArea,R=(g=(0,k.connect)(function(e){var t=e.emailconfig,a=e.loading;return{emailconfig:t,loading:a.models.emailconfig}}),E=y.default.create(),g(b=E(b=function(e){function t(){var e,a;(0,m.default)(this,t);for(var l=arguments.length,r=new Array(l),n=0;n<l;n++)r[n]=arguments[n];return a=(0,i.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(r))),a.state={webhook:{},modalVisible:!1},a.handSubmit=function(e){e.preventDefault();var t=a.props,l=t.dispatch,r=t.form;r.validateFields(function(e,t){if(!e){var r=(0,f.default)({},t),n=new FormData;Object.keys(r).forEach(function(e){n.append(e,r[e])}),l({type:"webhook/update",payload:n,callback:function(){a.fetchWebhook()}})}})},a.fetchWebhook=function(){var e=a.props,t=e.dispatch,l=e.form;t({type:"webhook/fetch",payload:{},callback:function(e){l.setFieldsValue({url:e.url,template:e.template})}})},a.setForm=function(e){a.form=e},a.renderForm=function(){var e=a.props.form,t=e.getFieldDecorator;return v.default.createElement(y.default,{onSubmit:a.handSubmit,layout:"inline"},v.default.createElement(d.default,{gutter:{md:8,lg:24,xl:48},style:{marginBottom:6}},v.default.createElement(o.default,{md:12,sm:24},v.default.createElement("code",{style:{color:"darkgray"}},"\u901a\u77e5\u5185\u5bb9\u63a8\u9001\u5230\u6307\u5b9aURL, POST\u8bf7\u6c42, \u8bbe\u7f6eHeader[ Content-Type: application/json]"))),v.default.createElement(d.default,{gutter:{md:8,lg:24,xl:48}},v.default.createElement(o.default,{md:12,sm:24},v.default.createElement(M,{label:"URL"},t("url",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165URL..."}]})(v.default.createElement(h.default,{placeholder:"\u8bf7\u8f93\u5165URL"}))))),v.default.createElement(d.default,{gutter:{md:8,lg:24,xl:48},style:{marginBottom:6}},v.default.createElement(o.default,{md:12,sm:24},v.default.createElement("code",{style:{color:"darkgray"}},"\u901a\u77e5\u6a21\u677f\u652f\u6301html"))),v.default.createElement(d.default,{gutter:{md:8,lg:24,xl:48}},v.default.createElement(o.default,{md:12,sm:24},v.default.createElement(M,{label:"\u6a21\u677f"},t("template",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6a21\u677f..."}]})(v.default.createElement(x,{rows:8,placeholder:"\u8bf7\u8f93\u5165\u6a21\u677f"}))))),v.default.createElement(d.default,{gutter:{md:8,lg:24,xl:48}},v.default.createElement(o.default,{md:6,sm:24},v.default.createElement("span",{className:w.default.submitButtons},v.default.createElement(u.default,{type:"primary",htmlType:"submit"},"\u4fdd\u5b58")))))},a.handleModalVisible=function(e){a.setState({modalVisible:!!e})},a}return(0,p.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){this.fetchWebhook()}},{key:"render",value:function(){this.state.modalVisible;return v.default.createElement(v.Fragment,null,v.default.createElement(F.default,null),v.default.createElement(n.default,{style:{marginBottom:12}},v.default.createElement("div",{className:w.default.tableListForm},this.renderForm())))}}]),t}(v.Component))||b)||b),V=R;t.default=V}}]);